<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Тренажер для скорочтения</title>
    <link href="{% static 'all.css' %}" rel="stylesheet" />
    <link rel="icon" href="{% static 'img/favicon_2.png' %}" type="image/x-icon">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-10">
                <h1>Тренажер для скорочтения</h1>

                <p>Этот тренажер позволяет повысить технику чтения и перейти со слогового чтения на чтение словом
                    за счёт того, что приходится за ограниченное количество времени называть слова разной длины.</p>

                <h3>Настройки тренажера</h3>
                <div class="accordion" id="accordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                Уровень сложности
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                             data-bs-parent="#accordion">
                            <div class="accordion-body">
                                Доступны 2 уровня сложности. Каждый следующий уровень сложнее, чем предыдущий.
                                <div class="form-group">
                                    <label for="complexity">Выберите уровень сложности:</label>
                                    <input type="range" class="form-range" id="complexity" min="1" max="2" step="1"
                                           value="1" oninput="updateLevel(this.value)">
                                    <strong><output id="levelDisplay">1</output>&nbsp;уровень сложности</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Порядок слов
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                             data-bs-parent="#accordion">
                            <div class="accordion-body">
                                Вы можете задать, будут ли слова отображаться по порядку или в случайной последовательности.
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="random" id="random">
                                    <label class="form-check-label" for="random">Случайно</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="display" class="d-flex justify-content-center align-items-center">
                    <div id="word" class="text-capitalize font-PFBeau">...</div>
                </div>

                <!-- Панель управления -->
                <div class="container" id="toolbar">
                    <div class="d-flex justify-content-between">
                        <!-- Кнопки управления -->
                        <div id="playButton" class="toolbar-item button">
                            <img src="{% static 'img/play.png' %}" width="32" height="32" alt="Начать" />
                        </div>
                        <div id="pauseButton" class="toolbar-item button">
                            <img src="{% static 'img/pause.png' %}" width="32" height="32" alt="Пауза" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'all.js' %}"></script>
    <script>
        // Данные для уровней
        const level1 = {{ level_1|safe }};
        const level2 = {{ level_2|safe }};

        // Переменные для работы
        let currentLevel = level1;
        let interval;
        let index = 0;

        // Обновление уровня
        function updateLevel(level) {
            document.getElementById('levelDisplay').textContent = level;
            currentLevel = level == 1 ? level1 : level2;
        }

        // Показ следующего элемента
        function showNext() {
            if (index >= currentLevel.length) {
                index = 0;
            }
            document.getElementById('word').textContent = currentLevel[index];
            index++;
        }

        // Управление кнопками
        document.getElementById('start').addEventListener('click', () => {
            clearInterval(interval);
            interval = setInterval(showNext, 1000); // Интервал смены слов (1 секунда)
        });

        document.getElementById('stop').addEventListener('click', () => {
            clearInterval(interval);
        });
    </script>
</body>
</html>
